{
  "info": {
    "name": "Canadian Nexus Admin API",
    "description": "API endpoints for Canadian Nexus Admin Panel",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Create First Admin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@canadiannexus.com\",\n  \"password\": \"admin123\",\n  \"firstName\": \"Admin\",\n  \"lastName\": \"User\",\n  \"phone\": \"+1234567890\"\n}"
            },
            "url": {
              "raw": "http://localhost:5001/api/auth/signup",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "auth", "signup"]
            },
            "description": "Create the first admin user. The first user registered will automatically be assigned admin role."
          }
        },
        {
          "name": "Admin Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@canadiannexus.com\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "http://localhost:5001/api/auth/login",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "auth", "login"]
            },
            "description": "Login with admin credentials. Returns a JWT token."
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "JWT token from login"
              }
            ],
            "url": {
              "raw": "http://localhost:5001/api/auth/me",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "auth", "me"]
            },
            "description": "Get current authenticated user details."
          }
        },
        {
          "name": "Check Admin Exists",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5001/api/auth/check-admin",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "auth", "check-admin"]
            },
            "description": "Check if an admin user exists in the system."
          }
        }
      ]
    },
    {
      "name": "Admin Services (Protected)",
      "item": [
        {
          "name": "Get All Services",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "http://localhost:5001/api/admin/services",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "admin", "services"]
            }
          }
        },
        {
          "name": "Get Next Service ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "http://localhost:5001/api/admin/services/next-id",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "admin", "services", "next-id"]
            }
          }
        },
        {
          "name": "Get Service by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "http://localhost:5001/api/admin/services/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "admin", "services", "1"]
            }
          }
        },
        {
          "name": "Create Service",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"serviceId\": 1,\n  \"title\": \"Express Entry\",\n  \"category\": \"Immigration\",\n  \"description\": \"Fast-track immigration program for skilled workers\",\n  \"aboutService\": \"The Express Entry system manages applications for permanent residence under these federal economic immigration programs: Federal Skilled Worker Program, Federal Skilled Trades Program, and Canadian Experience Class.\",\n  \"price\": \"$999\",\n  \"duration\": \"3-6 months\",\n  \"rating\": 4.5,\n  \"reviews\": 120,\n  \"consultant\": \"John Doe\",\n  \"consultantTitle\": \"Senior Immigration Consultant\",\n  \"features\": [\n    \"Complete document preparation\",\n    \"Application submission\",\n    \"Profile optimization\",\n    \"Follow-up support\"\n  ],\n  \"icon\": \"Briefcase\"\n}"
            },
            "url": {
              "raw": "http://localhost:5001/api/admin/services",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "admin", "services"]
            }
          }
        },
        {
          "name": "Update Service",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Express Entry - Updated\",\n  \"price\": \"$1099\",\n  \"rating\": 4.8\n}"
            },
            "url": {
              "raw": "http://localhost:5001/api/admin/services/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "admin", "services", "1"]
            }
          }
        },
        {
          "name": "Delete Service",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "http://localhost:5001/api/admin/services/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "admin", "services", "1"]
            }
          }
        }
      ]
    },
    {
      "name": "Public Services",
      "item": [
        {
          "name": "Get All Services (Public)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5001/api/services",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "services"]
            }
          }
        },
        {
          "name": "Get Service by ID (Public)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5001/api/services/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "services", "1"]
            }
          }
        },
        {
          "name": "Get Services by Category",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5001/api/services/category/Immigration",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5001",
              "path": ["api", "services", "category", "Immigration"]
            }
          }
        }
      ]
    },
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:5001/api/health",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5001",
          "path": ["api", "health"]
        },
        "description": "Check if the API server is running."
      }
    }
  ],
  "variable": [
    {
      "key": "authToken",
      "value": "",
      "type": "string"
    }
  ]
}
